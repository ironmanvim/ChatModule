(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{136:function(e,t,a){e.exports=a.p+"static/media/trial.b337d9e6.png"},247:function(e,t,a){e.exports=a.p+"static/media/Avatar.037763eb.png"},256:function(e,t,a){e.exports=a(580)},261:function(e,t,a){},312:function(e,t){},314:function(e,t){},344:function(e,t){},345:function(e,t){},389:function(e,t){},391:function(e,t){},414:function(e,t){},526:function(e,t){},568:function(e,t,a){},569:function(e,t,a){},570:function(e,t,a){},572:function(e,t,a){},578:function(e,t,a){},579:function(e,t,a){e.exports=a.p+"static/media/trial.24867704.mp4"},580:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(248),i=a.n(s),c=(a(261),a(137)),o=a(21),l=a(8),u=a(9),h=a(11),m=a(10),p=a(12),d=a(255),v=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e={fontSize:this.props.size+"pt",color:this.props.color},t={position:"absolute"};switch(this.props.position){case"top-left":t.top=0,t.left=0;break;case"top-right":t.top=0,t.right=0;break;case"bottom-left":t.bottom=0,t.left=0;break;case"bottom-right":t.bottom=0,t.right=0}return r.a.createElement("span",{className:this.props.display?"notify-icon":"hide",style:t},r.a.createElement("i",{className:"fa fa-circle ",style:e}," "))}}]),t}(r.a.Component),f=a(1),g=a(254),y=a(71),b=a.n(y),E=a(251),C=a.n(E),j=a(252),O=a.n(j),w=(a(568),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,metadata:null,error:null},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),C()("https://cors-anywhere.herokuapp.com/".concat(this.props.url)).then((function(t){e.setState({loading:!1,metadata:t}),console.log(t)}),(function(e){this.setState({loading:!1,error:e}),console.log(e)})),setTimeout((function(){e.state.loading&&e.setState({loading:!1,error:!0})}),1e4)}},{key:"componentDidUpdate",value:function(e,t,a){}},{key:"render",value:function(){return r.a.createElement("div",{className:"metadata"},this.state.loading?r.a.createElement("div",{className:"metadata-loading"},r.a.createElement(O.a,{type:"bars",width:50,color:"#43425D"})):!this.state.error&&this.state.metadata?r.a.createElement("div",{className:"metadata-data"},r.a.createElement("div",{className:"metadata-favicon"},r.a.createElement("img",{src:"".concat(this.state.metadata.image),alt:""})),r.a.createElement("div",{className:"metadata-info"},r.a.createElement("div",{className:"metadata-title"},r.a.createElement("a",{href:this.props.url,target:"_blank",rel:"noopener noreferrer"},this.state.metadata.title)),r.a.createElement("div",{className:"metadata-desc"},this.state.metadata.description))):null)}}]),t}(r.a.Component));Array.prototype.lastFind=function(e){for(var t=this.length-1;t>=0;--t){var a=this[t];if(e(a))return a}};var N=6e4,k=60*N,S=24*k;function M(e){var t=Date.now();if(e>t||e<=0)return null;var a=t-e;if(a<2500)return"online";if(a<N)return"last seen recently";if(a<2*N)return"a minute ago";if(a<50*N)return"".concat(Math.floor(a/N)," minutes ago");if(a<90*N)return"an hour ago";if(a<24*k)return"".concat(Math.floor(a/k)," hours ago");if(a<48*k)return"yesterday";if(a<10*S)return"".concat(Math.floor(a/S)," days ago");var n=new Date(e);return"".concat(n.getDate(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear())}var P=/(?:(?:https?|ftp):\/\/|\b(?:[a-z\d]+\.))(?:(?:[^\s()<>]+|\((?:[^\s()<>]+|(?:\([^\s()<>]+\)))?\))+(?:\((?:[^\s()<>]+|(?:\(?:[^\s()<>]+\)))?\)|[^\s`!()[\]{};:'".,<>?\xab\xbb\u201c\u201d\u2018\u2019]))?/,I=/^(\s+)$/;function x(e){return e.split(/(\s+)/).map((function(e){return e.match(P)?{word:e,type:"link"}:{word:e,type:"text"}}))}a(569),a(570),a(571);var D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).onSearchInput=function(e){var t=e.target.value;a.props.onSearch(t)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-search-bar"},r.a.createElement("div",{className:"chat-search-wrapper"},r.a.createElement("div",{className:"chat-search-icon"},r.a.createElement("i",{className:"fa fa-search"}," ")),r.a.createElement("div",{className:"chat-search-input"},r.a.createElement("input",{type:"text",onChange:this.onSearchInput}))))}}]),t}(r.a.Component),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getStatusWithTimestamp=function(){return M(a.props.time)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.forceUpdate()}),2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e="";return this.props.currentChatId===this.props.id&&(e="current"),r.a.createElement("div",{className:"chat-list-item ".concat(e),onClick:this.props.updateCurrentChat},r.a.createElement("div",{className:"chat-list-item-image"},r.a.createElement("img",{src:this.props.avatar,alt:""}),"online"===this.getStatusWithTimestamp()&&r.a.createElement(v,{size:"8",position:"bottom-right",color:"lawngreen"})),r.a.createElement("div",{className:"chat-list-item-info"},r.a.createElement("div",{className:"chat-list-item-name"},this.props.name),r.a.createElement("div",{className:"chat-list-item-desc"},this.props.desc)),r.a.createElement("div",{className:"chat-list-item-details"},r.a.createElement("div",{className:"chat-list-item-time"},this.getStatusWithTimestamp()),this.props.unreadMsgCount>0&&r.a.createElement("div",{className:"chat-list-item-msg_count"},this.props.unreadMsgCount)))}}]),t}(r.a.Component),T=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chat-list-items"},this.props.list.map((function(t){return r.a.createElement(F,{key:t.id,id:t.id,avatar:t.avatar,desc:t.desc,name:t.name,time:t.lastSeen,unreadMsgCount:t.messageCount,currentChatId:e.props.currentChatId,updateCurrentChat:function(){e.props.updateCurrentChat(t.id)}})})))}}]),t}(r.a.Component),U=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=null;return 0===this.props.status?e=r.a.createElement("i",{className:"far fa-clock"}," "):1===this.props.status?e=r.a.createElement("i",{className:"fas fa-check"}," "):2===this.props.status&&(e=r.a.createElement("i",{className:"fas fa-check-double"}," ")),e}}]),t}(r.a.Component),A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={search:""},a.onSearch=function(e){a.setState({search:e})},a.getFilteredList=function(){return a.props.chat.list.filter((function(e){return e.name.includes(a.state.search)})).map((function(e){return{avatar:e.avatar,name:e.name,id:e.id,messageCount:e.unread,lastSeen:e.lastSeen,desc:function(){var t=e.messages,a=t[t.length-1],n=0===a.by&&r.a.createElement("div",{className:"chat-message_delivery_status"},r.a.createElement(U,{status:a.read}));return"text"===a.type?r.a.createElement("span",null,n,a.data):"image"===a.type?r.a.createElement("span",null,n,r.a.createElement("i",{className:"far fa-file-image"}," ")," image"):"video"===a.type?r.a.createElement("span",null,n,r.a.createElement("i",{className:"far fa-file-video"}," ")," video"):void 0}()}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-list"},r.a.createElement(D,{onSearch:this.onSearch}),r.a.createElement(T,{list:this.getFilteredList(),currentChatId:this.props.chat.currentChatId,updateCurrentChat:this.props.updateCurrentChat}))}}]),t}(r.a.Component),B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).getStatusWithTimestamp=function(){return M(a.props.time)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.interval=setInterval((function(){e.forceUpdate()}),2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){return r.a.createElement("div",{className:"chat-header"},r.a.createElement("div",{className:"chat-list-item-image"},r.a.createElement("img",{src:this.props.avatar,alt:""}),"online"===this.getStatusWithTimestamp()?r.a.createElement(v,{size:"8",position:"bottom-right",color:"lawngreen"}):null),r.a.createElement("div",{className:"chat-list-item-info"},r.a.createElement("div",{className:"chat-list-item-name"},this.props.name),r.a.createElement("div",{className:"chat-list-item-desc"},this.getStatusWithTimestamp())),r.a.createElement("div",{className:"chat-close",onClick:this.props.closeCurrentChat},r.a.createElement("i",{className:"fas fa-times"}," ")))}}]),t}(r.a.Component),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).showFullScreen=function(){var e=a.props.message;switch(e.type){case"image":a.context.showFullScreen(e.data.image,"image");break;case"video":a.context.showFullScreen(e.data.video,"video")}},a.getTime=function(){return function(e){var t=new Date(e);return"".concat(t.getHours(),":").concat(t.getMinutes())}(a.props.message.time)},a.getConvertedMessage=function(e){var t=x(e),a=null;return[t.map((function(e){return"link"===e.type?(a=e.word,r.a.createElement("a",{href:e.word},e.word)):e.word})),a]},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.message,t=null;switch(e.type){case"text":var a=this.getConvertedMessage(e.data);t=r.a.createElement("div",null,!!a[1]&&r.a.createElement("div",{className:"chat-url_metadata",onClick:this.showFullScreen},r.a.createElement(w,{url:a[1]})),a[0]);break;case"image":t=r.a.createElement("div",null,r.a.createElement("div",{className:"chat-line-image",onClick:this.showFullScreen},r.a.createElement("img",{src:e.data.image,alt:""})),this.getConvertedMessage(e.data.caption));break;case"video":t=r.a.createElement("div",null,r.a.createElement("div",{className:"chat-line-video",onClick:this.showFullScreen},r.a.createElement("img",{src:e.data.thumbnail,alt:""}),r.a.createElement("div",{className:"chat-video-play-icon"},r.a.createElement("i",{className:"fa fa-play"}," "))),this.getConvertedMessage(e.data.caption))}var n=0===e.by?"me":"you";return r.a.createElement("div",{className:"chat-line"},r.a.createElement("div",{className:"chat-line-wrapper ".concat(n)},"group"===this.props.chatType&&0!==e.by&&r.a.createElement("div",{className:"chat-message_by ".concat(n)},e.by),t,r.a.createElement("div",{className:"chat-message-time ".concat(n)},this.getTime(),0===e.by&&r.a.createElement("div",{className:"chat-message_delivery_status"},r.a.createElement(U,{status:e.read})))))}}]),t}(r.a.Component);W.contextTypes={showFullScreen:f.func},W.defaultProps={by:0};var H=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"chat-line"},r.a.createElement("div",{className:"chat-date_marker"},function(e){var t=Date.now();if(e>t||e<=0)return null;var a=t-e;if(a<24*k)return"Today";if(a<48*k)return"Yesterday";var n=new Date(e);return"".concat(n.getDate(),"/").concat(n.getMonth()+1,"/").concat(n.getFullYear())}(this.props.date)))}}]),t}(r.a.Component),_=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).loadPreviousChat=function(e){0===e.target.scrollTop&&a.props.hasPreviousChat&&(a.previousChatUpdate=!0,a.props.loadPreviousChat(a.props.currentChatId))},a.createMessagesWithDateObjects=function(){return a.props.messages.reduce((function(e,t){var a=e.messages,n=e.currentDate,r=new Date(t.time);return!t.time||n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()&&n.getDate()===r.getDate()||(a.push({dateMarker:t.time}),e.currentDate=r),e.messages.push(t),e}),{messages:[],currentDate:new Date(0)}).messages},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){if(this.unreadPointer)this.unreadPointer.scrollIntoView();else{var e=this.props.scrollerPosition;e?this.chatContent.scrollTop=e:this.endPointer.scrollIntoView()}}},{key:"componentDidUpdate",value:function(e,t,a){this.previousChatUpdate?(this.chatContent.scrollTop=this.chatContent.scrollHeight-a.previousScrollHeight,this.previousChatUpdate=!1,this.unreadPointer&&this.props.removeUnreadPointer(this.props.currentChatId)):this.props.newMessageByMe&&(this.endPointer.scrollIntoView(),this.props.cleanNewMessageByMe(),this.unreadPointer&&this.props.removeUnreadPointer(this.props.currentChatId))}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return{previousScrollHeight:this.chatContent.scrollHeight}}},{key:"componentWillUnmount",value:function(){this.unreadPointer&&this.props.removeUnreadPointer(this.props.currentChatId),this.props.updateScrollerPosition(this.chatContent.scrollTop,this.props.currentChatId)}},{key:"render",value:function(){var e=this,t=this.createMessagesWithDateObjects();return r.a.createElement("div",{className:"chat-content",ref:function(t){return e.chatContent=t},onScroll:this.loadPreviousChat},t.map((function(t){return t.unreadPointer?r.a.createElement("div",{key:"unreadPointer",className:"chat-line"},r.a.createElement("div",{className:"chat-unread_messages",ref:function(t){e.unreadPointer=t}},"Unread Messages")):t.dateMarker?r.a.createElement(H,{key:"date-".concat(t.dateMarker),date:t.dateMarker}):r.a.createElement(W,{message:t,key:t.id,chatType:e.props.chatType})})),r.a.createElement("div",{ref:function(t){e.endPointer=t}}))}}]),t}(r.a.Component),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={showEmojiPanel:!1},a.toggleEmojiPanel=function(){a.setState({showEmojiPanel:!a.state.showEmojiPanel})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onEmojiSelect,a=Object(d.a)(e,["onEmojiSelect"]);return r.a.createElement("span",{style:{position:"relative"}},r.a.createElement("button",Object.assign({className:"emoji",onClick:this.toggleEmojiPanel},a),this.props.children),this.state.showEmojiPanel&&r.a.createElement(g.a,{set:"google",style:{position:"absolute",bottom:"30px",right:"0"},onSelect:t}))}}]),t}(r.a.Component),V=function(e){function t(){return Object(l.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"chat-message-input"},r.a.createElement("input",{type:"text",onChange:this.props.onChange,value:this.props.message,ref:function(t){return e.props.reference(t)},className:"message_input"}),!!this.props.link&&r.a.createElement("div",{className:"chat-input-link-metadata"},r.a.createElement(w,{key:this.props.link,url:this.props.link})))}}]),t}(r.a.Component),Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={message:"",type:"",link:null},a.getLink=function(e){var t=x(e).lastFind((function(e){return"link"===e.type}));return t?t.word:null},a.onMessageInput=function(e){var t=e.target.value;a.setState({message:t,type:"text",link:a.getLink(t)})},a.onMessageSubmit=function(e){if(e.preventDefault(),!a.state.message.match(I)){var t=a.props.updateMessage,n={data:a.state.message,type:a.state.type,id:b.a.v4(),by:0,time:Date.now(),read:0};a.setState({message:"",type:"",link:null}),t(n)}},a.emojiUpdate=function(e){a.setState({message:a.state.message+e.native,type:"text"}),a.messageInput.focus()},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{onSubmit:this.onMessageSubmit},r.a.createElement("div",{className:"chat-input"},r.a.createElement(V,{message:this.state.message,reference:function(t){return e.messageInput=t},onChange:this.onMessageInput,link:this.state.link}),r.a.createElement("button",{type:"submit",className:"button"},r.a.createElement("i",{className:"far fa-paper-plane"}," ")),r.a.createElement("button",{type:"button",className:"button"},r.a.createElement("i",{className:"fas fa-paperclip"}," ")),r.a.createElement(z,{type:"button",className:"button",onEmojiSelect:this.emojiUpdate},r.a.createElement("i",{className:"far fa-smile"}," "))))}}]),t}(r.a.Component),L=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={newMessageByMe:!1},a.cleanNewMessageByMe=function(){a.setState({newMessageByMe:!1})},a.updateNewMessageByMe=function(){a.setState({newMessageByMe:!0})},a.updateMessage=function(e){var t=a.props.currentChatId;a.updateNewMessageByMe(),a.props.updateMessage(t,e)},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props,t=e.currentChatId,a=e.currentChat;return r.a.createElement("div",{className:"chat-body"},r.a.createElement(B,{name:a.name,time:a.lastSeen,avatar:a.avatar,closeCurrentChat:this.props.closeCurrentChat}),r.a.createElement(_,{hasPreviousChat:a.hasPreviousChat,currentChatId:t,messages:a.messages,removeUnreadPointer:this.props.removeUnreadPointer,loadPreviousChat:this.props.loadPreviousChat,chatType:a.chatType,scrollerPosition:this.props.scrollerPosition,updateScrollerPosition:this.props.updateScrollerPosition,newMessageByMe:this.state.newMessageByMe,cleanNewMessageByMe:this.cleanNewMessageByMe}),r.a.createElement(Y,{updateMessage:this.updateMessage}))}}]),t}(r.a.Component),J=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={scrollerPositions:{}},a.updateScrollerPosition=function(e,t){a.setState((function(a){var n=Object(o.a)({},a.scrollerPositions);return n[t]=e,{scrollerPositions:n}}))},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.chat.currentChatId,t=this.props.chat.list.find((function(t){return t.id===e}));return r.a.createElement("div",{className:"chat"},r.a.createElement(A,{chat:this.props.chat,updateCurrentChat:this.props.updateCurrentChat}),e&&r.a.createElement(L,{currentChat:t,currentChatId:e,updateMessage:this.props.updateMessage,closeCurrentChat:this.props.closeCurrentChat,removeUnreadPointer:this.props.removeUnreadPointer,loadPreviousChat:this.props.loadPreviousChat,updateScrollerPosition:this.updateScrollerPosition,scrollerPosition:this.state.scrollerPositions[e],key:"chat-".concat(e)}))}}]),t}(r.a.Component),$=(a(572),a(253)),G=a.n($),q=(a(578),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={content:null,type:null,isFullScreen:!1},a.showFullScreen=function(e,t){a.setState({content:e,type:t,isFullScreen:!0})},a.hideFullScreen=function(){a.setState({content:null,type:null,isFullScreen:!1})},a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"getChildContext",value:function(){return{showFullScreen:this.showFullScreen}}},{key:"render",value:function(){var e=this.props.children,t=null;return this.state.isFullScreen&&("image"===this.state.type?t=r.a.createElement("div",{className:"image-view"},r.a.createElement("img",{src:this.state.content,alt:"view"})):"video"===this.state.type&&(t=r.a.createElement("div",{className:"image-view"},r.a.createElement(G.a,{url:this.state.content,controls:!0,playing:!0,width:"100%",height:"100%"})))),r.a.createElement("div",null,e,this.state.isFullScreen?r.a.createElement("div",{className:"full-screen"},r.a.createElement("div",{className:"exit",onClick:this.hideFullScreen},"\xd7"),r.a.createElement("div",{className:"content centered"},t)):null)}}]),t}(r.a.Component));q.childContextTypes={showFullScreen:f.func};var K=function(e){function t(){var e,n;Object(l.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={chat:{list:[{id:1,name:"Vishal",avatar:a(247),messages:[{id:1,by:"you",data:"222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",time:1,type:"text"},{id:2,by:0,data:"2222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222",time:2,type:"text",read:0},{id:3,by:0,data:"Hello",time:3,type:"text",read:1},{id:4,by:"you",data:"Hi",time:4,type:"text"},{unreadPointer:!0},{id:5,by:0,data:{image:a(136),caption:"Another Caption for image"},time:5,type:"image",read:2},{id:7,by:"you",data:{thumbnail:a(136),video:a(579),caption:"Avengers End Game"},type:"video",time:6},{id:6,by:0,data:{image:a(136),caption:"A best Avatar Caption"},type:"image",time:7}],lastSeen:Date.now(),unread:3,hasPreviousChat:!0,chatType:"group"},{id:2,name:"Vishnu",avatar:a(247),messages:[{id:1,by:0,data:"Hello",time:1,type:"text"},{id:2,by:"you",data:"Hi",time:2,type:"text"},{id:3,by:0,data:"Hello",time:3,type:"text"},{id:4,by:"you",data:"Hi",time:4,type:"text"}],lastSeen:2,unread:0,hasPreviousChat:!1,chatType:"individual"}],currentChatId:null}},n.updateCurrentChat=function(e){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{currentChatId:e,list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{unread:0}):t}))})}}))},n.removeUnreadPointer=function(e){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{messages:t.messages.filter((function(e){return!0!==e.unreadPointer}))}):t}))})}}))},n.closeCurrentChat=function(){n.setState({chat:Object(o.a)({},n.state.chat,{currentChatId:null})})},n.loadPreviousChat=function(e){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{messages:[{id:b.a.v4(),by:0,data:"Previous Message",time:1,type:"text"},{id:b.a.v4(),by:"Arun",data:"Previous Message",time:1,type:"text"}].concat(Object(c.a)(t.messages))}):t}))})}}))},n.updateMessage=function(e,t){var a=t.id;n.setState((function(a){return{chat:Object(o.a)({},a.chat,{list:a.chat.list.map((function(a){return a.id===e?Object(o.a)({},a,{messages:[].concat(Object(c.a)(a.messages),[t])}):a}))})}})),setTimeout((function(){n.setState((function(t){return{chat:Object(o.a)({},t.chat,{list:t.chat.list.map((function(t){return t.id===e?Object(o.a)({},t,{messages:t.messages.map((function(e){return a===e.id?Object(o.a)({},e,{read:1}):e}))}):t}))})}}))}),2500)},n}return Object(p.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(q,null,r.a.createElement("div",{className:"App"},r.a.createElement(J,{chat:this.state.chat,updateCurrentChat:this.updateCurrentChat,closeCurrentChat:this.closeCurrentChat,updateMessage:this.updateMessage,removeUnreadPointer:this.removeUnreadPointer,loadPreviousChat:this.loadPreviousChat})))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[256,1,2]]]);
//# sourceMappingURL=main.91ddc71e.chunk.js.map